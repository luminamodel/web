<!DOCTYPE html>  
<html>  
<head>  
    <title>Subnet Calculator</title>  
    <style>  
        * {  
            box-sizing: border-box;  
        }  
        body {  
            font-family: Arial, sans-serif;  
            background-color: #f4f4f4;  
        }  
        .container {  
            width: 60%;  
            margin: 0 auto;  
            padding-top: 50px;  
            background-color: #fff;  
            border-radius: 10px;  
            padding: 20px;  
            box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.1);  
        }  
        h1 {  
            text-align: center;  
            color: #333;  
        }          
        label {  
            font-weight: bold;  
            display: block;  
            margin-bottom: 5px;  
        }  
        input, select, button {  
            width: 100%;  
            padding: 10px;  
            margin-bottom: 20px;  
            border-radius: 5px;  
            border: 1px solid #ddd;  
        }  
        button {  
            background-color: #5C6BC0;  
            color: #fff;  
            cursor: pointer;  
        }  
        button:hover {  
            background-color: #3F51B5;  
        }  
        #result {  
            font-size: 1.2em;  
            color: #333;  
        }  
    </style>  
</head>  
<body>  
    <h1>Subnet Calculator</h1>
    <div class="container">  
        <label for="ip">Enter IP:</label>  
        <input type="text" id="ip" name="ip" placeholder="e.g., 192.168.1.0">  
        <label for="mask">Select mask bits:</label>  
        <select id="mask" name="mask">  
            <option value="">Select...</option>  
        </select>  
        <button onclick="calculate()">Calculate</button>  
        <div id="result"></div>  
    </div>  
  
    <script>  
        // Helper function to format number with commas as thousands separators  
        function numberWithCommas(x) {  
            return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");  
        }  
  
        // Helper function to calculate number of IPs  
        function calculateIPs(mask) {  
            return Math.pow(2, 32 - parseInt(mask));  
        }  
  
        // Populate the mask bits dropdown  
        var maskSelect = document.getElementById("mask");  
        for (var i = 1; i <= 32; i++) {  
            var option = document.createElement("option");  
            option.value = i;  
            option.text = i + " (" + numberWithCommas(calculateIPs(i)) + " IPs)";  
            maskSelect.add(option);  
        }  
  
        function isValidIP(ip) {  
            var blocks = ip.split(".");  
            if(blocks.length === 4) {  
                return blocks.every(function(block) {  
                    return parseInt(block) >=0 && parseInt(block) <= 255;  
                });  
            }  
            return false;  
        }  
  
        function calculate() {  
            var ip = document.getElementById("ip").value;  
            if (!isValidIP(ip)) {  
                alert("Invalid IP.");  
                return;  
            }  
            var mask = document.getElementById("mask").value;  
            var totalIPs = calculateIPs(mask);  
  
            var ipBlocks = ip.split('.');  
  
            // Calculate the first and last IP of the range  
            var firstIP = ipBlocks.join('.');  
            var hostBits = 32 - mask;  
            if (hostBits <= 8) {  
                ipBlocks[3] = (parseInt(ipBlocks[3]) + totalIPs - 1).toString();  
            } else if (hostBits <= 16) {  
                ipBlocks[2] = (parseInt(ipBlocks[2]) + Math.pow(2, hostBits - 8) - 1).toString();  
                ipBlocks[3] = "255";  
            } else {  
                ipBlocks[1] = (parseInt(ipBlocks[1]) + Math.pow(2, hostBits - 16) - 1).toString();  
                ipBlocks[2] = "255";  
                ipBlocks[3] = "255";  
            }  
            var lastIP = ipBlocks.join('.');  
              
            var resultDiv = document.getElementById("result");  
            resultDiv.innerHTML = "CIDR Range in IP: " + firstIP + " - " + lastIP;  
        }  
    </script>  
</body>  
</html>  
